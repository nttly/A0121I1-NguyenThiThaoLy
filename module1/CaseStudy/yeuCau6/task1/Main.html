<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" src="task1.js"></script>
</head>
<body>
<script>
    let listCustomer=[];
    function displayMainMenu() {
        let choose =parseInt(prompt("1.Add New Customer"+"\n"+"2.Display Information Customer"+"\n"+"3.Display total pays Customer"+"\n"+"4.Edit Information Customer"+"\n"+"5.Delete Customer"+"\n"+"6.Exit"));
        switch (choose) {
            case 1:{
                addNewCustomer();
                break;
            }
            case 2: {
                displayTotalPays();
            }
            default:{
                alert("Failed");
            }
        }
    }
    function displayTotalPays() {

        let temp="";
        for (let i=0;i<listCustomer.length;i++){
            temp+=i+" .Name: "+listCustomer[i].getName()+"\n";
        }
        let chooseDisplay=parseInt(prompt(temp));
        alert("Total pays của bạn là:"+listCustomer[chooseDisplay].totalPays());
    }
    function addNewCustomer() {
        let regexEmail=/\S+@\S+\.\S+/;
        let regexBirthday=/^\d{2}[./-]\d{2}[./-]\d{4}$/;
        let regexCmnd=/^[\d]{8,8}$/;
        let checkValid =false;
        let cus=new Customer();
        let name=prompt("Input name:");
        let cmnd;
        let birthday;
        let email;
        do {
             cmnd = prompt("Input số CMND:");
            if (regexCmnd.test(cmnd)){
                checkValid=true;
            }
            else {
                alert("Không hợp lệ");
            }
        }while (!checkValid)
        checkValid=false;

        do{
             birthday = prompt("Input birthday:");
            if (regexBirthday.test(birthday)){
                checkValid=true;
            }
            else {
                alert("Ngày sinh bạn nhập không hợp lệ.")
            }
        }
        while (!checkValid)
        checkValid=false;
        do{
             email = prompt("Input Email:");
            if (regexEmail.test(email)){
                checkValid=true;

            }
            else {
                alert("Email không hợp lệ vui lòng nhập lại");
            }

        }
        while (!checkValid)
        checkValid=false;
        let address = prompt("Input address:");
        let typeService = prompt("Input type Service:");
        let typeRoom=prompt("Input typeRoom");
        let typeCustomer =prompt("Input type Customer");
        let discount= prompt("Input discount:");
        let quantityIncluded = prompt("Input quantity include:");
        let rendDays =prompt("Input rendDays:");
        cus.setName(name);
        cus.setCMND(cmnd);
        cus.setBirthday(birthday);
        cus.setEmail(email);
        cus.setAddress(address);
        cus.setTypeService(typeService);
        cus.setTypeRoom(typeRoom);
        cus.setTypeCustomer(typeCustomer);
        cus.setDiscount(discount);
        cus.setQuantityIncluded(quantityIncluded);
        cus.setRendDays(rendDays);
        listCustomer.push(cus);
        alert("BẠn đã thêm thành công");
        displayMainMenu();
    }
    displayMainMenu();
</script>
</body>
</html>